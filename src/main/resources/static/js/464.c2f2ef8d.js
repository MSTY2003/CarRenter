"use strict";(self["webpackChunkcar"]=self["webpackChunkcar"]||[]).push([[464],{5464:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var r=t(3396),a=t(9242);const n=e=>((0,r.dD)("data-v-dcbee91c"),e=e(),(0,r.Cn)(),e),o={id:"app"},i={class:"login-container"},l=n((()=>(0,r._)("h2",null,"登录",-1))),u={class:"input-field"},d=n((()=>(0,r._)("i",{class:"fa fa-user","aria-hidden":"true"},null,-1))),c={class:"input-field"},p=n((()=>(0,r._)("i",{class:"fa fa-lock","aria-hidden":"true"},null,-1))),h=n((()=>(0,r._)("button",{type:"submit",class:"login-button"},"登录",-1)));function f(e,s,t,n,f,g){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",i,[l,(0,r._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)(((...e)=>g.login&&g.login(...e)),["prevent"]))},[(0,r._)("div",u,[d,(0,r.wy)((0,r._)("input",{type:"text",placeholder:"用户名","onUpdate:modelValue":s[0]||(s[0]=e=>f.username=e),required:""},null,512),[[a.nr,f.username]])]),(0,r._)("div",c,[p,(0,r.wy)((0,r._)("input",{type:"password",placeholder:"密码","onUpdate:modelValue":s[1]||(s[1]=e=>f.password=e),required:""},null,512),[[a.nr,f.password]])]),h],32),(0,r._)("p",{id:"forgetPassword",onClick:s[3]||(s[3]=e=>g.toRegister())},"注册账号")])])}t(560);var g={data(){return{username:"",password:""}},methods:{login(){let e="/car/login",s={userName:this.username,password:this.password};fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((e=>e.text())).then((e=>{"Login successful"===e?(console.log("登录成功"),localStorage.setItem("userName",this.username),localStorage.setItem("userType",this.userType),this.$router.push("/main")):console.log("登录失败: ",e)})).catch((e=>{console.error("Error:",e)}))},toRegister(){this.$router.push("/register")}}},m=t(89);const _=(0,m.Z)(g,[["render",f],["__scopeId","data-v-dcbee91c"]]);var w=_}}]);
//# sourceMappingURL=464.c2f2ef8d.js.map